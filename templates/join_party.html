<!DOCTYPE html>
<html>
<head>
	<title>Join Party</title>
	<link rel = "stylesheet"
	href = "/static/levels.css"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
	<!-- Web icons -->
	<link rel="icon" href="/static/icon.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/static/favicon_package_v0/apple-touch-icon.png">
	<link rel="manifest" href="/static/favicon_package_v0/site.webmanifest">
	<link rel="mask-icon" href="/static/favicon_package_v0/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="/static/favicon_package_v0/favicon.ico">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="msapplication-config" content="/static/favicon_package_v0/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">
</head>
<script>
	const interval = setInterval(function() {
		console.log("bruh");
		fetch('/get_party_ids').then((response) => {
		console.log(response);
		response.json().then((data) => {
			console.log(data);

			var regEx = '';
			var regEx = data;
				console.log(regEx);
				document.getElementById("levels-btn").setAttribute("pattern", regEx);
		});
	});
	 }, 5000);
</script>
<body id="generate_playlist">	
	<div id="container">
		<!-- header -->
		<header>
		</header>
		<!-- middle -->
		<div id="main">
			<div class="middle">
				<div class="middle-container">
					<div class="middle-items">
						<h1 class="middle-text">Enter the party code:</h1>

                        <form action="#" method="POST">
                            <div class="input-level">
                                <div class = "input-label">
                                    <p>Party Code</p>
                                </div>
                                <input id='levels-btn' name='party_code' title="A valid party code" required pattern={{reg_ex}} placeholder="Enter a 4-digit party code" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
                            </div>
                            <input type='submit' id='generate-btn' value='Join Party'>
                        </form>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="/static/app.js"></script>
	<script src="/static/modal.js"></script>
	<div id="overlay"></div>

</body>
</html>